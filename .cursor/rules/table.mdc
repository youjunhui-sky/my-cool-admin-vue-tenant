---
description: cl-table ç»„ä»¶ç¤ºä¾‹
globs: *.tsx, *.ts, *.vue
---
## èµ·æ­¥ ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>base</el-tag>
			<span>èµ·æ­¥</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/base.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="èµ·æ­¥" width="80%">
				<!--ã€å¾ˆé‡è¦ã€‘éœ€è¦åŒ…å«åœ¨ cl-crud ç»„ä»¶å†… -->
				<cl-crud ref="Crud">
					<cl-row>
						<!-- å‚æ•°æ–‡æ¡£æŸ¥çœ‹ï¼šhttps://element-plus.org/zh-CN/component/table.html#table-%E5%B1%9E%E6%80%A7 -->
						<cl-table ref="Table" stripe></cl-table>
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useCrud, useTable } from '@cool-vue/crud';
import { ref } from 'vue';
import { useDict } from '/$/dict';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		// æµ‹è¯•æ•°æ®ï¼Œç§»æ­¥åˆ° cl-crud ä¾‹å­æŸ¥çœ‹
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	// æ˜¯å¦è‡ªåŠ¨è®¡ç®—è¡¨æ ¼é«˜åº¦ï¼Œè¡¨æ ¼é«˜åº¦ç­‰äºå‡å»ä¸ŠåŒºåŸŸå’Œä¸‹åŒºåŸŸçš„é«˜åº¦
	//ã€å¾ˆé‡è¦ã€‘åœ¨å¼¹çª—æˆ–è€…ä¸Šçº§ä¸ç¡®å®šé«˜åº¦ä¸­ï¼Œè®¾ç½® autoHeight: falseï¼Œé¿å…æ˜¾ç¤ºå¼‚å¸¸ã€‚ä¹Ÿå¯ä»¥æ‰‹åŠ¨è®¾ç½®æœ€å¤§é«˜åº¦ maxHeight: 500
	autoHeight: false,

	// å³é”®èœå•ï¼Œç§»æ­¥åˆ°å³é”®èœå•ç¤ºä¾‹ä¸­æŸ¥çœ‹
	contextMenu: ['refresh'],

	// åˆ—é…ç½®ï¼Œç‚¹å‡» columns æŸ¥çœ‹æè¿°
	// æ›´å¤šé…ç½®æŸ¥çœ‹ el-table-column æ–‡æ¡£ï¼Œhttps://element-plus.org/zh-CN/component/table.html#table-column-%E5%B1%9E%E6%80%A7
	columns: [
		{
			// æ˜¯å¦ä¸ºå¤šé€‰æ¡†æ“ä½œåˆ—
			type: 'selection'

			// æ˜¯å¦ä¸ºåºå·åˆ—
			// type: "index"
		},
		{
			// è¡¨å¤´æ ‡é¢˜
			label: 'å§“å',

			// ç»‘å®šå€¼
			prop: 'name',

			// æœ€å°å®½åº¦
			minWidth: 140
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			// å­—å…¸åŒ¹é…ï¼Œç§»æ­¥åˆ°å­—å…¸ç¤ºä¾‹ä¸­æŸ¥çœ‹
			dict: dict.get('occupation'),
			minWidth: 140
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			// æ˜¯å¦æ’åºï¼Œdesc, asc
			sortable: 'desc'
		}
	]
});

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```

## å¤šçº§è¡¨å¤´ ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>children</el-tag>
			<span>å¤šçº§è¡¨å¤´</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/children.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="å¤šçº§è¡¨å¤´" width="80%">
				<cl-crud ref="Crud">
					<cl-row>
						<cl-table ref="Table" />
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useCrud, useTable } from '@cool-vue/crud';
import { ref } from 'vue';
import { useDict } from '/$/dict';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh'],

	columns: [
		{
			label: 'ç”¨æˆ·ä¿¡æ¯',
			prop: 'baseInfo',
			minWidth: 250,

			// é…ç½® children å‚æ•°
			children: [
				{
					label: 'å§“å',
					prop: 'name',
					minWidth: 140
				},
				{
					label: 'æ‰‹æœºå·',
					prop: 'phone',
					minWidth: 140
				}
			]
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			dict: dict.get('occupation'),
			minWidth: 140
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		}
	]
});

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```

## è‡ªå®šä¹‰åˆ—å±•ç¤º ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>column-custom</el-tag>
			<span>è‡ªå®šä¹‰åˆ—å±•ç¤º</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/column-custom.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="è‡ªå®šä¹‰åˆ—å±•ç¤º" width="80%">
				<cl-crud ref="Crud">
					<cl-row>
						<!--ã€å¾ˆé‡è¦ã€‘ç»„ä»¶é…ç½®ï¼Œè®¾ç½®ä¸º Table çš„ columnsï¼Œä¹Ÿå¯ä»¥è‡ªå®šä¹‰ -->
						<cl-column-custom :columns="Table?.columns" />
					</cl-row>

					<cl-row>
						<cl-table ref="Table"></cl-table>
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useCrud, useTable } from '@cool-vue/crud';
import { ref } from 'vue';
import { useDict } from '/$/dict';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh'],

	columns: [
		{
			label: 'å§“å',
			prop: 'name',
			minWidth: 140
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			dict: dict.get('occupation'),
			minWidth: 140
		},
		{
			label: 'çŠ¶æ€',
			prop: 'status',
			dict: [
				{
					label: 'å¯ç”¨',
					value: 1,
					type: 'success'
				},
				{
					label: 'ç¦ç”¨',
					value: 0,
					type: 'danger'
				}
			],
			minWidth: 140
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		}
	]
});

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```

## ç»„ä»¶æ¸²æŸ“ ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>component</el-tag>
			<span>ç»„ä»¶æ¸²æŸ“</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/component/index.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="ç»„ä»¶æ¸²æŸ“" width="80%">
				<cl-crud ref="Crud">
					<cl-row>
						<cl-table ref="Table"></cl-table>
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useCrud, useTable } from '@cool-vue/crud';
import { ref } from 'vue';
import { useDict } from '/$/dict';
import { ElMessage } from 'element-plus';
import UserInfo from './user-info.vue';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh'],
	columns: [
		{
			type: 'selection'
		},
		{
			label: 'å§“å',
			prop: 'name',
			minWidth: 140,

			//ã€å¾ˆé‡è¦ã€‘ç»„ä»¶å®ä¾‹æ–¹å¼æ¸²æŸ“
			component: {
				vm: UserInfo
			}
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140,

			//ã€å¾ˆé‡è¦ã€‘ç»„ä»¶åæ–¹å¼æ¸²æŸ“
			component: {
				// ç»„ä»¶åï¼Œç»„ä»¶å¿…é¡»å…¨å±€æ³¨å†Œäº†
				name: 'el-input',

				// ä¼ å…¥å‚æ•°
				props: {
					onChange(val) {
						ElMessage.info(val);
					}
				}
			}
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			dict: dict.get('occupation'),
			minWidth: 140
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		}
	]
});

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```

## user-info ç¤ºä¾‹

```vue
<template>
	<div class="user-info">
		<cl-avatar :size="36" />

		<div class="det">
			<p>{{ scope?.name }}</p>
		</div>
	</div>
</template>

<!-- name å¿…é¡»å¡«å†™ä¸”å”¯ä¸€ -->
<script setup lang="ts">
defineOptions({
	name: 'user-info'
});

const props = defineProps({
	prop: String, // åˆ—é…ç½®çš„ prop
	scope: null // åˆ—æ•°æ®
});
</script>

<style lang="scss" scoped>
.user-info {
	display: flex;
	align-items: center;

	.det {
		flex: 1;
		margin-left: 10px;
		text-align: left;
	}
}
</style>

```

## å³é”®èœå• ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>context-menu</el-tag>
			<span>å³é”®èœå•</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/context-menu.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="å³é”®èœå•">
				<cl-crud ref="Crud">
					<cl-row>
						<cl-table ref="Table"></cl-table>
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>

					<!-- æ–°å¢ã€ç¼–è¾‘ -->
					<cl-upsert ref="Upsert" />
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useCrud, useTable, useUpsert } from '@cool-vue/crud';
import { ref } from 'vue';
import { useDict } from '/$/dict';
import { ElMessage } from 'element-plus';
import { EditPen, MoreFilled } from '@element-plus/icons-vue';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,

	// å³é”®èœå•é…ç½®ï¼Œä¸º [] æ—¶åˆ™ä¸æ˜¾ç¤ºå†…å®¹
	contextMenu: [
		'refresh', // åˆ·æ–°
		'check', // é€‰æ‹©è¡Œ
		'edit', // å¼¹å‡ºç¼–è¾‘æ¡†
		'delete', // å¼¹å‡ºåˆ é™¤æç¤º
		'info', // å¼¹å‡ºè¯¦æƒ…
		'order-desc', // ä½¿åˆ—å€’åº
		'order-asc', // ä½¿åˆ—å‡åº
		{
			label: 'ç¦ç”¨çŠ¶æ€',
			disabled: true
		},
		{
			label: 'å¸¦å›¾æ ‡',
			prefixIcon: EditPen,
			suffixIcon: MoreFilled
		},
		{
			label: 'è¶…å‡ºéšè—ï¼Œçœ‹æˆ‘æœ‰å¾ˆå¤šå­—éå¸¸å¤š',
			ellipsis: true
		},
		{
			label: 'å¤šå±‚çº§',
			children: [
				{
					label: 'A',
					children: [
						{
							label: 'A-1',
							callback(done) {
								ElMessage.success('ç‚¹å‡»äº†A-1');
								done();
							}
						}
					]
				},
				{
					label: 'B'
				},
				{
					label: 'C'
				}
			]
		},
		// row è¡Œæ•°æ®
		// column åˆ—å±æ€§
		// event äº‹ä»¶å¯¹è±¡
		(row, column, event) => {
			// å¿…é¡»è¿”å›ä¸€ä¸ªå¯¹è±¡
			return {
				label: 'è‡ªå®šä¹‰2',
				callback(done) {
					ElMessage.info('è·å–ä¸­');

					setTimeout(() => {
						ElMessage.success('Ta æ˜¯' + row.name);

						// å…³é—­å³é”®èœå•ï¼Œåªæœ‰åœ¨ç”¨åˆ° callback æ–¹æ³•æ—¶æ‰éœ€è¦
						done();
					}, 500);
				}
			};
		}
	],

	columns: [
		{
			type: 'selection'
		},
		{
			label: 'å§“å',
			prop: 'name',
			minWidth: 140
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			dict: dict.get('occupation'),
			minWidth: 140
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		}
	]
});

// cl-upsert é…ç½®ï¼Œè¯¦ç»†ç§»æ­¥åˆ° cl-upsert ç¤ºä¾‹æŸ¥çœ‹
const Upsert = useUpsert({
	items: [
		{
			label: 'å§“å',
			prop: 'name',
			component: {
				name: 'el-input'
			}
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			component: {
				name: 'el-input'
			}
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			component: {
				name: 'cl-select',
				props: {
					tree: true,
					checkStrictly: true,
					options: dict.get('occupation')
				}
			}
		}
	]
});

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```

## å­—å…¸åŒ¹é… ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>dict</el-tag>
			<span>å­—å…¸åŒ¹é…</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/dict.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="å­—å…¸åŒ¹é…" width="80%">
				<cl-crud ref="Crud">
					<cl-row>
						<cl-table ref="Table" />
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useCrud, useTable } from '@cool-vue/crud';
import { computed, reactive, ref } from 'vue';
import { useDict } from '/$/dict';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

const options = reactive({
	occupation: [] as { label: string; value: any }[]
});

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh'],

	columns: [
		{
			label: 'å§“å',
			prop: 'name',
			minWidth: 140
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',

			//ã€å¾ˆé‡è¦ã€‘å­—å…¸åŒ¹é…
			// ä½¿ç”¨å­—å…¸æ¨¡å—çš„ get æ–¹æ³•ç»‘å®šï¼Œèœå•åœ°å€ /dict/list
			dict: dict.get('occupation'),

			// æ˜¯å¦ä½¿ç”¨ä¸åŒé¢œè‰²åŒºåˆ†
			dictColor: true,

			minWidth: 140
		},
		{
			label: 'ç­‰çº§',
			prop: 'occupation',

			//ã€å¾ˆé‡è¦ã€‘åŠ¨æ€åŒ¹é…åˆ—è¡¨çš„æƒ…å†µï¼Œä½¿ç”¨ computed
			dict: computed(() => options.occupation),

			minWidth: 140
		},
		{
			label: 'çŠ¶æ€',
			prop: 'status',

			// è‡ªå®šä¹‰åŒ¹é…åˆ—è¡¨
			dict: [
				{
					label: 'å¯ç”¨',
					value: 1,
					type: 'success'
				},
				{
					label: 'ç¦ç”¨',
					value: 0,
					type: 'danger'
				}
			],

			minWidth: 140
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		}
	]
});

const visible = ref(false);

function open() {
	visible.value = true;

	// æ¨¡æ‹Ÿæ¥å£è·å–æ•°æ®
	setTimeout(() => {
		options.occupation = [
			{
				label: 'A',
				value: 0
			},
			{
				label: 'B',
				value: 1
			},
			{
				label: 'C',
				value: 2
			},
			{
				label: 'D',
				value: 3
			},
			{
				label: 'E',
				value: 4
			},
			{
				label: 'F',
				value: 5
			}
		];
	}, 1500);
}
</script>

```

## æ•°æ®æ ¼å¼åŒ– ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>formatter</el-tag>
			<span>æ•°æ®æ ¼å¼åŒ–</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/formatter.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="æ•°æ®æ ¼å¼åŒ–" width="80%">
				<cl-crud ref="Crud">
					<cl-row>
						<cl-table ref="Table" />
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-09-26</span>
		</div>
	</div>
</template>

<script setup lang="tsx">
import { useCrud, useTable } from '@cool-vue/crud';
import { ref } from 'vue';

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh'],

	columns: [
		{
			label: 'å§“å',
			prop: 'name',
			minWidth: 140
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140,
			formatter(row) {
				return 'ğŸ“±' + row.phone;
			}
		},
		{
			label: 'ç”¨æˆ·ä¿¡æ¯',
			minWidth: 200,
			// tsx æ–¹å¼æ¸²æŸ“
			// ã€å¾ˆé‡è¦ã€‘ä½¿ç”¨ tsx è¯­æ³•æ—¶ï¼Œscript çš„ lang ä¸€å®šè¦è®¾ç½®ä¸º tsx
			formatter(row) {
				// row ä¸ºå½“å‰è¡Œæ•°æ®
				return (
					<el-row>
						<cl-avatar size={30} />
						<el-text style={{ marginLeft: '10px' }}>{row.name}</el-text>
					</el-row>
				);
			}
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		}
	]
});

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```

## éšè—/æ˜¾ç¤º ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>hidden</el-tag>
			<span>éšè—/æ˜¾ç¤º</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/hidden.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="éšè—/æ˜¾ç¤º" width="80%">
				<cl-crud ref="Crud">
					<!--é…ç½®ä¸€ä¸ª tab -->
					<el-tabs v-model="active">
						<el-tab-pane label="å‘˜å·¥" name="user"></el-tab-pane>
						<el-tab-pane label="ä¼ä¸š" name="company"></el-tab-pane>
					</el-tabs>

					<cl-row>
						<!-- ä½¿ç”¨æ–¹æ³• showColumn æ˜¾ç¤º -->
						<el-button @click="showColumn('account')">æ˜¾ç¤ºè´¦å·</el-button>

						<!-- ä½¿ç”¨æ–¹æ³• hideColumn éšè— -->
						<el-button @click="hideColumn('account')">éšè—è´¦å·</el-button>
					</cl-row>

					<cl-row>
						<cl-table ref="Table"></cl-table>
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useCrud, useTable } from '@cool-vue/crud';
import { computed, ref } from 'vue';
import { useDict } from '/$/dict';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		// æµ‹è¯•æ•°æ®ï¼Œç§»æ­¥åˆ° cl-crud ä¾‹å­æŸ¥çœ‹
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

const active = ref('user');

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh'],

	columns: [
		{
			label: 'ID',
			prop: 'id',
			minWidth: 140,

			//ã€å¾ˆé‡è¦ã€‘é…ç½® hidden å‚æ•°ï¼Œæ ¼å¼ä¸º boolean æˆ–è€… Vue.ComputedRef<boolean>
			hidden: computed(() => {
				return active.value != 'company';
			})
		},
		{
			label: 'è´¦å·',
			prop: 'account',
			minWidth: 140,
			hidden: true // é»˜è®¤ false
		},
		{
			label: 'å§“å',
			prop: 'name',
			minWidth: 140
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			dict: dict.get('occupation'),
			minWidth: 140
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		}
	]
});

const visible = ref(false);

function open() {
	visible.value = true;
}

function showColumn(prop: string) {
	Table.value?.showColumn(prop);
}

function hideColumn(prop: string) {
	Table.value?.hideColumn(prop);
}
</script>

```

## æ“ä½œæ  ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>op</el-tag>
			<span>æ“ä½œæ </span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/op.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="æ“ä½œæ " width="80%">
				<cl-crud ref="Crud">
					<cl-row>
						<cl-table ref="Table">
							<!-- æ’æ§½çš„æ¸²æŸ“æ–¹å¼ #[component.name] -->
							<template #slot-btns="{ scope }">
								<el-button
									@click="
										() => {
											ElMessage.info(scope.row.name);
										}
									"
									>æ’æ§½æŒ‰é’®</el-button
								>
							</template>
						</cl-table>
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>

					<!-- æ–°å¢ã€ç¼–è¾‘ -->
					<cl-upsert ref="Upsert" />
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useCrud, useTable, useUpsert } from '@cool-vue/crud';
import { ref } from 'vue';
import { useDict } from '/$/dict';
import { ElMessage } from 'element-plus';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh'],

	columns: [
		{
			label: 'å§“å',
			prop: 'name',
			minWidth: 140
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			dict: dict.get('occupation'),
			minWidth: 140
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		},
		{
			//ã€å¾ˆé‡è¦ã€‘type å¿…é¡»æ˜¯ op
			type: 'op',

			width: 410, // å®½åº¦

			//ã€å¾ˆé‡è¦ã€‘æ“ä½œæŒ‰é’®é…ç½®ï¼Œedit å’Œ info å¿…é¡»æ­é… cl-upsert å®ç°
			// edit ç¼–è¾‘ï¼Œé¢„å…ˆè·å– service çš„ info æ¥å£æ•°æ®ï¼Œå¹¶å¸¦å…¥ cl-upsert çš„è¡¨å•å€¼ä¸­
			// info è¯¦æƒ…ï¼Œcl-upsert å†…çš„ç»„ä»¶å…¨éƒ¨ä¼ å…¥ disabled å‚æ•°
			// delete åˆ é™¤ï¼Œè°ƒç”¨ service çš„ delete æ¥å£åˆ é™¤è¡Œæ•°æ®
			buttons: [
				{
					label: 'ç¼–è¾‘',
					type: 'primary',
					onClick({ scope }) {
						ElMessage.info(scope.row.name);
					}
				},
				{
					label: 'åˆ é™¤',
					type: 'danger',
					onClick({ scope }) {
						ElMessage.info(scope.row.name);
					}
				},
				{
					label: 'æ›´å¤š',
					type: 'success',
					children: [
						{
							label: 'æŸ¥çœ‹',
							onClick({ scope }) {
								ElMessage.info(scope.row.name);
							}
						},
						{
							label: 'ç¦ç”¨',
							onClick({ scope }) {
								ElMessage.info(scope.row.name);
							}
						}
					]
				},
				{
					name: 'slot-btns'
				}
			]
		}
	]
});

// cl-upsert é…ç½®ï¼Œè¯¦ç»†ç§»æ­¥åˆ° cl-upsert ç¤ºä¾‹æŸ¥çœ‹
const Upsert = useUpsert({
	items: [
		{
			label: 'å§“å',
			prop: 'name',
			component: {
				name: 'el-input'
			}
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			component: {
				name: 'el-input'
			}
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			component: {
				name: 'cl-select',
				props: {
					tree: true, // æ ‘å½¢æ–¹å¼é€‰æ‹©
					checkStrictly: true, // ä»»æ„å±‚çº§éƒ½èƒ½ç‚¹
					options: dict.get('occupation') // ä½¿ç”¨å­—å…¸æ•°æ®
				}
			}
		}
	]
});

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```

## æ’ä»¶çš„ä½¿ç”¨ ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>plugin</el-tag>
			<span>æ’ä»¶çš„ä½¿ç”¨</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/plugin/base.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="æ’ä»¶çš„ä½¿ç”¨" width="80%">
				<cl-crud ref="Crud">
					<cl-row>
						<cl-table ref="Table" />
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="tsx">
import { useCrud, useTable } from '@cool-vue/crud';
import { ref } from 'vue';
import { useDict } from '/$/dict';
import { merge } from 'lodash-es';
import { defineComponent } from 'vue';

// æ’ä»¶ï¼šåˆ—æ ‡ç­¾åŒ¹é…ï¼Œæ–¹ä¾¿å¤šä¸ªåˆ—è¡¨å…¬ç”¨åŒä¸€ä¸ªç»„ä»¶
function setColumn(): ClTable.Plugin {
	const columns = {
		UserInfo: {
			label: 'ç”¨æˆ·ä¿¡æ¯',
			minWidth: 200,
			component: {
				vm: defineComponent({
					name: 'user-info',

					props: {
						scope: null
					},

					setup(props) {
						return () => {
							return (
								<div>
									<p>{props.scope.name}</p>
									<p>{props.scope.phone}</p>
								</div>
							);
						};
					}
				})
			}
		}
	} as { [key: string]: DeepPartial<ClTable.Column> };

	return ({ exposed }) => {
		function deep(arr: ClTable.Column[]) {
			arr.forEach(e => {
				if (e.tag) {
					merge(e, columns[e.tag]);
				}
				deep(e.children || []);
			});
		}

		deep(exposed.columns);
	};
}

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh'],

	columns: [
		{
			type: 'selection'
		},
		{
			tag: 'UserInfo'
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			dict: dict.get('occupation'),
			minWidth: 140
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		}
	],

	//ã€å¾ˆé‡è¦ã€‘é…ç½®æ’ä»¶
	plugins: [setColumn()]
});

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```

## è¡Œç¼–è¾‘ ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>row-edit</el-tag>
			<span>è¡Œç¼–è¾‘</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/plugin/row-edit.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="è¡Œç¼–è¾‘" width="80%">
				<cl-crud ref="Crud">
					<el-text class="mb-4" tag="p">ç‚¹å‡»å§“åã€æ‰‹æœºå·å¯ä»¥è¿›è¡Œç¼–è¾‘</el-text>

					<cl-row>
						<cl-table ref="Table" />
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useCrud, useTable } from '@cool-vue/crud';
import { ref } from 'vue';
import { useDict } from '/$/dict';
import { Plugins } from '/#/crud';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh'],

	columns: [
		{
			label: 'å§“å',
			prop: 'name',
			minWidth: 140,
			// ã€å¾ˆé‡è¦ã€‘è¡Œç¼–è¾‘ï¼Œé»˜è®¤ el-input
			edit: true
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140,
			// ã€å¾ˆé‡è¦ã€‘è¡Œç¼–è¾‘ï¼Œå¼€å¯ã€å…³é—­
			edit: {
				enable: true
			}
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			dict: dict.get('occupation'),
			minWidth: 140,
			edit: {
				enable: true,
				// ã€å¾ˆé‡è¦ã€‘è¡Œç¼–è¾‘ï¼Œç»„ä»¶é…ç½®
				component: {
					name: 'cl-select',
					props: {
						options: dict.get('occupation'),
						tree: true
					}
				}
			}
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc',
			// ã€å¾ˆé‡è¦ã€‘è¡Œç¼–è¾‘ï¼Œç»„ä»¶é…ç½®
			edit: {
				enable: true,
				component: {
					name: 'el-date-picker',
					props: {
						type: 'date',
						valueFormat: 'YYYY-MM-DD'
					}
				}
			}
		},
		{
			type: 'op',
			buttons: ['delete']
		}
	],

	//ã€å¾ˆé‡è¦ã€‘è¡Œç¼–è¾‘æ’ä»¶
	plugins: [Plugins.Table.rowEdit()]
});

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```

## è¡¨å¤´æœç´¢ ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>search</el-tag>
			<span>è¡¨å¤´æœç´¢</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/search.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="è¡¨å¤´æœç´¢" width="80%">
				<cl-crud ref="Crud">
					<cl-row>
						<cl-table ref="Table" />
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="tsx">
import { useCrud, useTable } from '@cool-vue/crud';
import { ref } from 'vue';
import { useDict } from '/$/dict';
import { Plus } from '@element-plus/icons-vue';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh'],

	columns: [
		{
			label: 'å§“å',
			prop: 'name',
			minWidth: 140,

			//ã€å¾ˆé‡è¦ã€‘æœç´¢å‚æ•°é…ç½®
			search: {
				isInput: false, // é»˜è®¤falseï¼Œæ˜¯å¦è¾“å…¥æ¡†æ¨¡å¼
				value: '', // é»˜è®¤å€¼
				refreshOnChange: true, // é»˜è®¤falseï¼Œæœç´¢æ—¶åˆ·æ–°æ•°æ®ï¼Œservice çš„ page æ¥å£è¯·æ±‚å‚æ•°ä¸º { page: 1, [ç»‘å®šçš„prop]: è¾“å…¥å€¼ }
				// è‡ªå®šä¹‰æ¸²æŸ“ç»„ä»¶
				component: {
					name: 'el-input',
					props: {
						placeholder: 'æœç´¢å§“å'
					}
				}
			}
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140,

			//ã€å¾ˆé‡è¦ã€‘æœç´¢å‚æ•°é…ç½®
			search: {
				// æ˜¯å¦æ˜¾ç¤ºæœç´¢å›¾æ ‡
				icon: () => <Plus />,

				// è‡ªå®šä¹‰æ¸²æŸ“ç»„ä»¶
				component: {
					name: 'el-input',
					props: {
						placeholder: 'æœç´¢æ‰‹æœºå·',

						// è‡ªå®šä¹‰ change äº‹ä»¶
						onChange(val) {
							Crud.value?.refresh({
								page: 1,
								phone: val
							});
						}
					}
				}
			}
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			dict: dict.get('occupation'),
			minWidth: 140,

			//ã€å¾ˆé‡è¦ã€‘æœç´¢å‚æ•°é…ç½®
			search: {
				// æ˜¯å¦æ˜¾ç¤ºæœç´¢å›¾æ ‡
				icon: () => <cl-svg name="icon-app" size={13} />,
				// è‡ªå®šä¹‰æ¸²æŸ“ç»„ä»¶
				component: {
					name: 'cl-select',
					props: {
						placeholder: 'æœç´¢å·¥ä½œ',
						options: dict.get('occupation')
					}
				}
			}
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		}
	]
});

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```

## å¤šé€‰æ¡†æ•°æ® ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>selection</el-tag>
			<span>å¤šé€‰æ¡†æ•°æ®</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/selection.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="å¤šé€‰æ¡†æ•°æ®" width="80%">
				<cl-crud ref="Crud">
					<cl-row>
						<el-button @click="selectRow">é€‰ä¸­2è¡Œ</el-button>
						<el-button :disabled="Table?.selection.length == 0" @click="clear">
							å–æ¶ˆé€‰æ‹©
						</el-button>
					</cl-row>

					<cl-row>
						<cl-table ref="Table" />
					</cl-row>

					<cl-row>
						<el-text>å·²é€‰ {{ Table?.selection.length }} äºº</el-text>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useCrud, useTable } from '@cool-vue/crud';
import { ref } from 'vue';
import { useDict } from '/$/dict';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh', 'check'],

	columns: [
		{
			type: 'selection'
		},
		{
			label: 'å§“å',
			prop: 'name',
			minWidth: 140
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			dict: dict.get('occupation'),
			minWidth: 140
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		}
	]
});

function selectRow() {
	const [a, b] = Table.value?.data || [];

	// é€‰ä¸­2ä¸ª
	Table.value?.toggleRowSelection(a);
	Table.value?.toggleRowSelection(b);
}

function clear() {
	Table.value?.clearSelection();
}

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```

## æ’æ§½çš„ä½¿ç”¨ ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>slot</el-tag>
			<span>æ’æ§½çš„ä½¿ç”¨</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/slot.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="æ’æ§½çš„ä½¿ç”¨" width="80%">
				<cl-crud ref="Crud">
					<cl-row>
						<cl-table ref="Table">
							<!--ã€å¾ˆé‡è¦ã€‘å¿…é¡»ä¸ prop åä¿æŒä¸€è‡´ï¼Œæ ¼å¼ï¼šcolumn-[prop] -->
							<template #column-name="{ scope }">
								<cl-row type="flex" align="middle">
									<cl-avatar :size="36" :style="{ marginRight: '10px' }" />
									<el-text>{{ scope.row.name }}</el-text>
								</cl-row>
							</template>

							<template #column-phone="{ scope }"> ğŸ“±{{ scope.row.phone }} </template>
						</cl-table>
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useCrud, useTable } from '@cool-vue/crud';
import { ref } from 'vue';
import { useDict } from '/$/dict';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh'],

	columns: [
		{
			headerAlign: 'left',
			label: 'å§“å',
			prop: 'name',
			minWidth: 140
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			dict: dict.get('occupation'),
			minWidth: 140
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		}
	]
});

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```

## åˆå¹¶è¡Œæˆ–åˆ— ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>span-method</el-tag>
			<span>åˆå¹¶è¡Œæˆ–åˆ—</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/span-method.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="åˆå¹¶è¡Œæˆ–åˆ—" width="80%">
				<cl-crud ref="Crud">
					<cl-row>
						<cl-table ref="Table" :span-method="onSpanMethod" />
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useCrud, useTable } from '@cool-vue/crud';
import { ref } from 'vue';
import { useDict } from '/$/dict';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh'],

	columns: [
		{
			label: 'å§“å',
			prop: 'name',
			minWidth: 140
		},
		{
			label: 'å­˜æ¬¾',
			prop: 'wages',
			minWidth: 140
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			dict: dict.get('occupation'),
			minWidth: 140
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		}
	]
});

interface SpanMethodProps {
	row: any;
	column: any;
	rowIndex: number;
	columnIndex: number;
}

function onSpanMethod({ row, column, rowIndex, columnIndex }: SpanMethodProps) {
	// æ ¹æ®å®é™…ä¸šåŠ¡éœ€æ±‚è°ƒæ•´è¿”å›å€¼ { rowspan, colspan }
	if (columnIndex === 0) {
		if (rowIndex % 2 === 0) {
			return {
				rowspan: 2,
				colspan: 1
			};
		} else {
			return {
				rowspan: 0,
				colspan: 0
			};
		}
	}
}

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```

## è¡¨å°¾åˆè®¡è¡Œ ç¤ºä¾‹

```vue
<template>
	<div class="scope">
		<div class="h">
			<el-tag size="small" effect="dark" disable-transitions>summary</el-tag>
			<span>è¡¨å°¾åˆè®¡è¡Œ</span>
		</div>

		<div class="c">
			<el-button @click="open">é¢„è§ˆ</el-button>
			<demo-code :files="['table/summary.vue']" />

			<!-- è‡ªå®šä¹‰è¡¨æ ¼ç»„ä»¶ -->
			<cl-dialog v-model="visible" title="è¡¨å°¾åˆè®¡è¡Œ" width="80%">
				<cl-crud ref="Crud">
					<cl-row>
						<cl-table ref="Table" show-summary :summary-method="getSummaries" />
					</cl-row>

					<cl-row>
						<cl-flex1 />
						<cl-pagination />
					</cl-row>
				</cl-crud>
			</cl-dialog>
		</div>

		<div class="f">
			<span class="date">2024-01-01</span>
		</div>
	</div>
</template>

<script setup lang="ts">
import { useCrud, useTable } from '@cool-vue/crud';
import { ref } from 'vue';
import { useDict } from '/$/dict';

const { dict } = useDict();

// cl-crud é…ç½®
const Crud = useCrud(
	{
		service: 'test'
	},
	app => {
		app.refresh();
	}
);

// cl-table é…ç½®
const Table = useTable({
	autoHeight: false,
	contextMenu: ['refresh'],

	columns: [
		{
			label: 'å§“å',
			prop: 'name',
			minWidth: 140
		},
		{
			label: 'å­˜æ¬¾',
			prop: 'wages',
			minWidth: 140
		},
		{
			label: 'æ‰‹æœºå·',
			prop: 'phone',
			minWidth: 140
		},
		{
			label: 'å·¥ä½œ',
			prop: 'occupation',
			dict: dict.get('occupation'),
			minWidth: 140
		},
		{
			label: 'åˆ›å»ºæ—¶é—´',
			prop: 'createTime',
			minWidth: 170,
			sortable: 'desc'
		}
	]
});

function getSummaries() {
	return ['åˆè®¡', '$' + Table.value?.data.reduce((a, b) => a + b.wages, 0)];
}

const visible = ref(false);

function open() {
	visible.value = true;
}
</script>

```